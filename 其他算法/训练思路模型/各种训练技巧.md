## 知识蒸馏

【时间】24/11/17

[同济子豪兄](https://www.bilibili.com/video/BV1gS4y1k7vj/)

![image-20241117194225209](各种训练技巧/image-20241117194225209.png)

![image-20241117194229494](各种训练技巧/image-20241117194229494.png)

### 学生教师模型

- [ ] hard-target & soft-target
- [ ] 蒸馏温度
- [ ] 知识蒸馏过程
- [ ] 如何具体写一个自己的学术教师模型
- [ ] 实验的意义

![image-20241117194538875](各种训练技巧/image-20241117194538875.png)

![image-20241117194558656](各种训练技巧/image-20241117194558656.png)

【理解】

* 学生模型可以很好的浓缩教师模型；

![image-20241117194721568](各种训练技巧/image-20241117194721568.png)

![image-20241117194915542](各种训练技巧/image-20241117194915542.png)

* 结合自然，通过自然的观点来阐述自己论文的引言；



##### hard-target & soft-target

![image-20241117195804352](各种训练技巧/image-20241117195804352.png)

【理解】

* soft targets能传递更多信息；
* 在使用教师网络的时候使用hard-target，对训练完之后的教师网络却得到一个soft-target，用soft-target去训练学生模型；

【思考】

* 这种在线性回归中可以使用吗？

，![image-20241117200121779](各种训练技巧/image-20241117200121779.png)

##### 蒸馏温度

![image-20241117200237726](各种训练技巧/image-20241117200237726.png)

![image-20241117200459936](各种训练技巧/image-20241117200459936.png)

【理解】

* 温度越高，分类目标越来越soft；

##### 知识蒸馏过程

![image-20241117200545436](各种训练技巧/image-20241117200545436.png)

![image-20241117200731753](各种训练技巧/image-20241117200731753.png)

![image-20241117200739355](各种训练技巧/image-20241117200739355.png)

![image-20241117200856778](各种训练技巧/image-20241117200856778.png)

【理解】

* 两个损失函数进行学习对应的数据；
* 教师和学生网络；
  学生学习了两个网络；
* 微调学生网络权重，最后达到较好的预测效果；

##### 实验的意义

![image-20241117201415453](各种训练技巧/image-20241117201415453.png)

##### 知识蒸馏的应用场景

![image-20241117201454391](各种训练技巧/image-20241117201454391.png)

【理解】

* 迁移学习和知识蒸馏的关系是几乎类似的；
  迁移学习：迁移数据集到一个新的数据集；
  知识蒸馏：迁移模型，到另外一个模型；

【思考】

* 学生模型怎么学习那个，知识蒸馏的信息
  共享权重是多目标任务训练的重要思路；
* 深度学习是炼丹炉，炼丹的过程是一个未知的，只要有效就可以按照自己的思路进行解释；

##### 知识蒸馏的解空间

![image-20241117201925184](各种训练技巧/image-20241117201925184.png)

![image-20241117203528988](各种训练技巧/image-20241117203528988.png)



##### label smoothing

![image-20241117203639776](各种训练技巧/image-20241117203639776.png)

【理解】丢失了其他类别的相关信息；

##### 知识蒸馏趋势

![image-20241117203810660](各种训练技巧/image-20241117203810660.png)

【理解】

* 知识蒸馏好发论文；
* 学生可以更好的帮助老师的思考；
  多问问助教；
* 多模态、知识图谱；
* 网络的中间层，也可以使用知识蒸馏；
  对比学习；

![image-20241117204002721](各种训练技巧/image-20241117204002721.png)

![image-20241117204115214](各种训练技巧/image-20241117204115214.png)

【理解】

* 每一层都可以进行知识蒸馏

![image-20241117204208429](各种训练技巧/image-20241117204208429.png)

##### 知识蒸馏代码块

![image-20241117204251379](各种训练技巧/image-20241117204251379.png)

![image-20241117204336085](各种训练技巧/image-20241117204336085.png)

![image-20241117204340608](各种训练技巧/image-20241117204340608.png)



### 开源代码库

#### MMRazor的使用

* 封装好了才能在本地跑吗？